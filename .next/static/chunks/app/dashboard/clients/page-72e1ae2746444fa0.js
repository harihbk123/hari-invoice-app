(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8198],{1720:function(e,t,s){Promise.resolve().then(s.bind(s,93168))},98420:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},95252:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},42208:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},48736:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},89345:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},13041:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},99397:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},73247:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},95805:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},93168:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return w}});var a=s(57437),n=s(2265),r=s(27648),i=s(12381),l=s(40279),c=s(79820),d=s(33804),o=s(69174),u=s(23340),h=s(3439),x=s(93448),m=s(99397),f=s(95805),j=s(48736),v=s(95252),p=s(73247),y=s(89345),N=s(13041),g=s(98420),b=s(42208),Z=s(15868),k=s(18930);function w(){let{clients:e,isLoading:t}=(0,h.av)(),s=(0,h.Ln)(),{toast:w}=(0,u.pm)(),[C,_]=(0,n.useState)(""),M=(null==e?void 0:e.filter(e=>{var t,s;return e.name.toLowerCase().includes(C.toLowerCase())||(null===(t=e.email)||void 0===t?void 0:t.toLowerCase().includes(C.toLowerCase()))||(null===(s=e.company)||void 0===s?void 0:s.toLowerCase().includes(C.toLowerCase()))}))||[],L=async(e,t)=>{if(confirm("Are you sure you want to delete ".concat(t,"? This action cannot be undone.")))try{await s.mutateAsync(e),w({title:"Client Deleted",description:"".concat(t," has been deleted successfully.")})}catch(e){w({title:"Error",description:"Failed to delete client. Please try again.",variant:"destructive"})}},q=e?{total:e.length,active:e.filter(e=>"active"===e.status).length,totalInvoices:e.reduce((e,t)=>e+(t.total_invoices||0),0),totalRevenue:e.reduce((e,t)=>e+(t.total_revenue||0),0)}:{total:0,active:0,totalInvoices:0,totalRevenue:0};return t?(0,a.jsx)("div",{className:"container mx-auto py-6",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)("div",{className:"h-24 bg-gray-200 rounded"},t))}),(0,a.jsx)("div",{className:"h-96 bg-gray-200 rounded"})]})}):(0,a.jsxs)("div",{className:"container mx-auto py-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Clients"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Manage your client relationships"})]}),(0,a.jsx)(r.default,{href:"/dashboard/clients/create",children:(0,a.jsxs)(i.Button,{children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Add Client"]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)(c.Zb,{children:[(0,a.jsx)(c.Ol,{className:"pb-2",children:(0,a.jsx)(c.ll,{className:"text-sm font-medium text-gray-600",children:"Total Clients"})}),(0,a.jsx)(c.aY,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(f.Z,{className:"h-4 w-4 text-gray-400 mr-2"}),(0,a.jsx)("span",{className:"text-2xl font-bold",children:q.total})]})})]}),(0,a.jsxs)(c.Zb,{children:[(0,a.jsx)(c.Ol,{className:"pb-2",children:(0,a.jsx)(c.ll,{className:"text-sm font-medium text-gray-600",children:"Active Clients"})}),(0,a.jsx)(c.aY,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(f.Z,{className:"h-4 w-4 text-green-400 mr-2"}),(0,a.jsx)("span",{className:"text-2xl font-bold",children:q.active})]})})]}),(0,a.jsxs)(c.Zb,{children:[(0,a.jsx)(c.Ol,{className:"pb-2",children:(0,a.jsx)(c.ll,{className:"text-sm font-medium text-gray-600",children:"Total Invoices"})}),(0,a.jsx)(c.aY,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 text-blue-400 mr-2"}),(0,a.jsx)("span",{className:"text-2xl font-bold",children:q.totalInvoices})]})})]}),(0,a.jsxs)(c.Zb,{children:[(0,a.jsx)(c.Ol,{className:"pb-2",children:(0,a.jsx)(c.ll,{className:"text-sm font-medium text-gray-600",children:"Total Revenue"})}),(0,a.jsx)(c.aY,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(v.Z,{className:"h-4 w-4 text-green-400 mr-2"}),(0,a.jsx)("span",{className:"text-2xl font-bold",children:(0,x.xG)(q.totalRevenue)})]})})]})]}),(0,a.jsxs)(c.Zb,{children:[(0,a.jsx)(c.Ol,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(c.ll,{children:"Client List"}),(0,a.jsxs)("div",{className:"relative w-64",children:[(0,a.jsx)(p.Z,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-400"}),(0,a.jsx)(l.I,{placeholder:"Search clients...",value:C,onChange:e=>_(e.target.value),className:"pl-8"})]})]})}),(0,a.jsx)(c.aY,{children:0===M.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(f.Z,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No clients found"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:C?"No clients match your search criteria.":"Get started by adding your first client."}),(0,a.jsx)(r.default,{href:"/dashboard/clients/create",children:(0,a.jsxs)(i.Button,{children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Add Client"]})})]}):(0,a.jsxs)(d.iA,{children:[(0,a.jsx)(d.xD,{children:(0,a.jsxs)(d.SC,{children:[(0,a.jsx)(d.ss,{children:"Client"}),(0,a.jsx)(d.ss,{children:"Contact"}),(0,a.jsx)(d.ss,{children:"Company"}),(0,a.jsx)(d.ss,{className:"text-right",children:"Invoices"}),(0,a.jsx)(d.ss,{className:"text-right",children:"Revenue"}),(0,a.jsx)(d.ss,{children:"Status"}),(0,a.jsx)(d.ss,{children:"Created"}),(0,a.jsx)(d.ss,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(d.RM,{children:M.map(e=>(0,a.jsxs)(d.SC,{children:[(0,a.jsx)(d.pj,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),e.email&&(0,a.jsx)("div",{className:"text-sm text-gray-600",children:e.email})]})}),(0,a.jsx)(d.pj,{children:(0,a.jsxs)("div",{className:"space-y-1",children:[e.email&&(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[(0,a.jsx)(y.Z,{className:"h-3 w-3 mr-1"}),e.email]}),e.phone&&(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[(0,a.jsx)(N.Z,{className:"h-3 w-3 mr-1"}),e.phone]})]})}),(0,a.jsx)(d.pj,{children:e.company&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(g.Z,{className:"h-3 w-3 mr-1"}),e.company]})}),(0,a.jsx)(d.pj,{className:"text-right",children:e.total_invoices||0}),(0,a.jsx)(d.pj,{className:"text-right",children:(0,x.xG)(e.total_revenue||0)}),(0,a.jsx)(d.pj,{children:(0,a.jsx)(o.C,{variant:"active"===e.status?"success":"secondary",children:e.status||"active"})}),(0,a.jsx)(d.pj,{children:e.created_at?(0,x.p6)(e.created_at):"-"}),(0,a.jsx)(d.pj,{children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)(r.default,{href:"/dashboard/clients/".concat(e.id),children:(0,a.jsx)(i.Button,{variant:"ghost",size:"icon",children:(0,a.jsx)(b.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(r.default,{href:"/dashboard/clients/".concat(e.id,"/edit"),children:(0,a.jsx)(i.Button,{variant:"ghost",size:"icon",children:(0,a.jsx)(Z.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(i.Button,{variant:"ghost",size:"icon",onClick:()=>L(e.id,e.name),className:"text-red-600 hover:text-red-700",children:(0,a.jsx)(k.Z,{className:"h-4 w-4"})})]})})]},e.id))})]})})]})]})}},79820:function(e,t,s){"use strict";s.d(t,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return i},aY:function(){return o},ll:function(){return c}});var a=s(57437),n=s(2265),r=s(93448);let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...n})});i.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",s),...n})});l.displayName="CardHeader";let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",s),...n})});c.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("p",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",s),...n})});d.displayName="CardDescription";let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",s),...n})});o.displayName="CardContent",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",s),...n})}).displayName="CardFooter"},40279:function(e,t,s){"use strict";s.d(t,{I:function(){return i}});var a=s(57437),n=s(2265),r=s(93448);let i=n.forwardRef((e,t)=>{let{className:s,type:n,...i}=e;return(0,a.jsx)("input",{type:n,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...i})});i.displayName="Input"},3439:function(e,t,s){"use strict";s.d(t,{Ln:function(){return o},av:function(){return d}});var a=s(29827),n=s(48852),r=s(64250),i=s(96629),l=s(23340),c=s(97160);function d(){var e;let{toast:t}=(0,l.pm)();(0,a.NL)();let s=(0,c.o)(e=>e.setClients),r=(0,n.a)({queryKey:["clients"],queryFn:async()=>{let e=(await (0,i.ZL)()).map(e=>{var t,s,a;return{id:e.id,name:e.name||"",email:e.email||"",phone:e.phone||"",address:e.address||"",company:e.company||"",contact_name:e.contact_name||"",payment_terms:e.payment_terms||"",status:e.status||"active",created_at:e.created_at||"",updated_at:e.updated_at||"",total_invoices:null!==(t=e.total_invoices)&&void 0!==t?t:0,total_revenue:null!==(s=e.total_revenue)&&void 0!==s?s:0,total_amount:null!==(a=e.total_amount)&&void 0!==a?a:0}});return s(e),e}});return{clients:null!==(e=r.data)&&void 0!==e?e:[],isLoading:r.isLoading,error:r.error,refetch:r.refetch}}function o(){let{toast:e}=(0,l.pm)(),t=(0,a.NL)(),s=(0,c.o)(e=>e.removeClient);return(0,r.D)({mutationFn:i.Nu,onSuccess:(a,n)=>{s(n),t.invalidateQueries({queryKey:["clients"]}),e({title:"Success",description:"Client deleted successfully"})},onError:t=>{e({title:"Error",description:t.message||"Failed to delete client",variant:"destructive"})}})}}},function(e){e.O(0,[1524,2972,8828,7911,1166,2971,2117,1744],function(){return e(e.s=1720)}),_N_E=e.O()}]);