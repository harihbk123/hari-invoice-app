(()=>{var e={};e.id=608,e.ids=[608],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},85807:e=>{"use strict";e.exports=require("module")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},57577:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>r.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>d}),a(11657),a(22834),a(32029),a(35866);var i=a(23191),t=a(88716),n=a(37922),r=a.n(n),l=a(95231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);a.d(s,c);let d=["",{children:["dashboard",{children:["invoices",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,11657)),"/workspaces/hari-invoice-app/src/app/dashboard/invoices/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,22834)),"/workspaces/hari-invoice-app/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,32029)),"/workspaces/hari-invoice-app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],o=["/workspaces/hari-invoice-app/src/app/dashboard/invoices/[id]/page.tsx"],x="/dashboard/invoices/[id]/page",h={require:a,loadChunk:()=>Promise.resolve()},m=new i.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/dashboard/invoices/[id]/page",pathname:"/dashboard/invoices/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},62786:(e,s,a)=>{Promise.resolve().then(a.bind(a,29234))},86333:(e,s,a)=>{"use strict";a.d(s,{Z:()=>i});let i=(0,a(76557).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},29234:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>g});var i=a(10326),t=a(17577),n=a(35047),r=a(90434),l=a(91664),c=a(29752),d=a(38443),o=a(41156),x=a(29280),h=a(84097),m=a(39843),p=a(30831),u=a(60343),j=a(51223),v=a(86333),f=a(31540),N=a(69508),y=a(98091);function g(){let e=(0,n.useParams)(),s=(0,n.useRouter)(),{toast:a}=(0,h.pm)(),g=e?.id?String(e.id):"",{data:b,isLoading:w,error:_}=(0,m.h8)(g),P=(0,m.sJ)(),C=(0,m.GE)(),{settings:k}=(0,u.r)(),[D,q]=(0,t.useState)(!1),[I,S]=(0,t.useState)(!1),[Z,A]=(0,t.useState)(""),G=async()=>{if(confirm("Are you sure you want to delete this invoice? This action cannot be undone.")){q(!0);try{await P.mutateAsync(g),a({title:"Invoice Deleted",description:"Invoice has been deleted successfully."}),s.push("/dashboard/invoices")}catch(e){a({title:"Error",description:"Failed to delete invoice.",variant:"destructive"})}finally{q(!1)}}},E=async()=>{if(Z){S(!0);try{await C.mutateAsync({id:g,status:Z}),a({title:"Status Updated",description:"Invoice status has been updated successfully."}),A("")}catch(e){a({title:"Error",description:"Failed to update invoice status.",variant:"destructive"})}finally{S(!1)}}},R=async()=>{if(b&&k)try{let e=b.client||{id:b.client_id,name:b.client_name||"Unknown Client",email:b.client_email||"",phone:b.client_phone||"",address:b.client_address||"",company:b.client_company||""};await (0,p.D)(b,e,k),a({title:"PDF Downloaded",description:"Invoice PDF has been downloaded successfully."})}catch(e){a({title:"Error",description:"Failed to download PDF.",variant:"destructive"})}};return w?i.jsx("div",{className:"container mx-auto py-6",children:(0,i.jsxs)("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),(0,i.jsxs)("div",{className:"space-y-4",children:[i.jsx("div",{className:"h-64 bg-gray-200 rounded"}),i.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})]})}):_||!b?i.jsx("div",{className:"container mx-auto py-6",children:(0,i.jsxs)("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-red-600",children:"Invoice Not Found"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"The invoice you're looking for doesn't exist."}),i.jsx(r.default,{href:"/dashboard/invoices",children:i.jsx(l.Button,{className:"mt-4",children:"Back to Invoices"})})]})}):(0,i.jsxs)("div",{className:"container mx-auto py-6",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[i.jsx(r.default,{href:"/dashboard/invoices",children:(0,i.jsxs)(l.Button,{variant:"outline",size:"sm",children:[i.jsx(v.Z,{className:"mr-2 h-4 w-4"}),"Back"]})}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("h1",{className:"text-2xl font-bold",children:["Invoice #",b.invoice_number||b.id]}),i.jsx("p",{className:"text-gray-600",children:"View and manage invoice details"})]})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsxs)(l.Button,{onClick:R,variant:"outline",children:[i.jsx(f.Z,{className:"mr-2 h-4 w-4"}),"Download PDF"]}),i.jsx(r.default,{href:`/dashboard/invoices/${g}/edit`,children:(0,i.jsxs)(l.Button,{variant:"outline",children:[i.jsx(N.Z,{className:"mr-2 h-4 w-4"}),"Edit"]})}),(0,i.jsxs)(l.Button,{onClick:G,variant:"destructive",disabled:D,children:[i.jsx(y.Z,{className:"mr-2 h-4 w-4"}),D?"Deleting...":"Delete"]})]})]}),(0,i.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,i.jsxs)("div",{className:"md:col-span-2 space-y-6",children:[(0,i.jsxs)(c.Zb,{children:[i.jsx(c.Ol,{children:(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[i.jsx(c.ll,{children:"Invoice Status"}),i.jsx(d.C,{variant:(e=>{switch(e.toLowerCase()){case"paid":return"success";case"pending":return"warning";case"overdue":return"destructive";case"cancelled":return"secondary";default:return"default"}})(b.status),children:b.status})]})}),i.jsx(c.aY,{children:(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)(x.Ph,{value:Z,onValueChange:A,children:[i.jsx(x.i4,{className:"w-[180px]",children:i.jsx(x.ki,{placeholder:"Change status"})}),(0,i.jsxs)(x.Bw,{children:[i.jsx(x.Ql,{value:"Draft",children:"Draft"}),i.jsx(x.Ql,{value:"Pending",children:"Pending"}),i.jsx(x.Ql,{value:"Paid",children:"Paid"}),i.jsx(x.Ql,{value:"Overdue",children:"Overdue"}),i.jsx(x.Ql,{value:"Cancelled",children:"Cancelled"})]})]}),i.jsx(l.Button,{onClick:E,disabled:!Z||I,children:I?"Updating...":"Update Status"})]})})]}),(0,i.jsxs)(c.Zb,{children:[i.jsx(c.Ol,{children:i.jsx(c.ll,{children:"Invoice Information"})}),(0,i.jsxs)(c.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Invoice Number"}),i.jsx("p",{className:"font-semibold",children:b.invoice_number||b.id})]}),(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Amount"}),i.jsx("p",{className:"font-semibold text-lg",children:(0,j.xG)(b.amount)})]}),(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Issue Date"}),i.jsx("p",{className:"font-semibold",children:(0,j.p6)(b.issue_date)})]}),(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Due Date"}),i.jsx("p",{className:"font-semibold",children:(0,j.p6)(b.due_date)})]})]}),b.description&&(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Description"}),i.jsx("p",{className:"font-semibold",children:b.description})]})]})]}),b.items&&b.items.length>0&&(0,i.jsxs)(c.Zb,{children:[i.jsx(c.Ol,{children:i.jsx(c.ll,{children:"Line Items"})}),i.jsx(c.aY,{children:(0,i.jsxs)(o.iA,{children:[i.jsx(o.xD,{children:(0,i.jsxs)(o.SC,{children:[i.jsx(o.ss,{children:"Description"}),i.jsx(o.ss,{className:"text-right",children:"Quantity"}),i.jsx(o.ss,{className:"text-right",children:"Rate"}),i.jsx(o.ss,{className:"text-right",children:"Amount"})]})}),i.jsx(o.RM,{children:b.items.map((e,s)=>(0,i.jsxs)(o.SC,{children:[i.jsx(o.pj,{children:e.description}),i.jsx(o.pj,{className:"text-right",children:e.quantity}),i.jsx(o.pj,{className:"text-right",children:(0,j.xG)(e.rate)}),i.jsx(o.pj,{className:"text-right",children:(0,j.xG)(e.amount)})]},s))})]})})]})]}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)(c.Zb,{children:[i.jsx(c.Ol,{children:i.jsx(c.ll,{children:"Client Details"})}),(0,i.jsxs)(c.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),i.jsx("p",{className:"font-semibold",children:b.client?.name||b.client_name||"Unknown Client"})]}),(b.client?.email||b.client_email)&&(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),i.jsx("p",{className:"font-semibold",children:b.client?.email||b.client_email})]}),(b.client?.phone||b.client_phone)&&(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),i.jsx("p",{className:"font-semibold",children:b.client?.phone||b.client_phone})]}),(b.client?.address||b.client_address)&&(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Address"}),i.jsx("p",{className:"font-semibold whitespace-pre-line",children:b.client?.address||b.client_address})]}),(b.client?.company||b.client_company)&&(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Company"}),i.jsx("p",{className:"font-semibold",children:b.client?.company||b.client_company})]})]})]}),(0,i.jsxs)(c.Zb,{children:[i.jsx(c.Ol,{children:i.jsx(c.ll,{children:"Payment Summary"})}),(0,i.jsxs)(c.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Subtotal"}),i.jsx("span",{className:"font-semibold",children:(0,j.xG)(b.subtotal||b.amount)})]}),b.tax&&(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Tax"}),i.jsx("span",{className:"font-semibold",children:(0,j.xG)(b.tax)})]}),i.jsx("div",{className:"border-t pt-2",children:(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-lg font-semibold",children:"Total"}),i.jsx("span",{className:"text-lg font-semibold",children:(0,j.xG)(b.amount)})]})})]})]})]})]})]})}},29752:(e,s,a)=>{"use strict";a.d(s,{Ol:()=>l,SZ:()=>d,Zb:()=>r,aY:()=>o,ll:()=>c});var i=a(10326),t=a(17577),n=a(51223);let r=t.forwardRef(({className:e,...s},a)=>i.jsx("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));r.displayName="Card";let l=t.forwardRef(({className:e,...s},a)=>i.jsx("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...s}));l.displayName="CardHeader";let c=t.forwardRef(({className:e,...s},a)=>i.jsx("h3",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));c.displayName="CardTitle";let d=t.forwardRef(({className:e,...s},a)=>i.jsx("p",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let o=t.forwardRef(({className:e,...s},a)=>i.jsx("div",{ref:a,className:(0,n.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent",t.forwardRef(({className:e,...s},a)=>i.jsx("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},11657:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>i});let i=(0,a(68570).createProxy)(String.raw`/workspaces/hari-invoice-app/src/app/dashboard/invoices/[id]/page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),i=s.X(0,[276,347,362,795,642,596,759,563,968,203],()=>a(57577));module.exports=i})();