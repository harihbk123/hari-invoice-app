(()=>{var e={};e.id=490,e.ids=[490],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},85807:e=>{"use strict";e.exports=require("module")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},21642:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>o,routeModule:()=>p,tree:()=>d}),t(16116),t(22834),t(32029),t(35866);var r=t(23191),a=t(88716),i=t(37922),n=t.n(i),l=t(95231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let d=["",{children:["dashboard",{children:["invoices",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,16116)),"/workspaces/hari-invoice-app/src/app/dashboard/invoices/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,22834)),"/workspaces/hari-invoice-app/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,32029)),"/workspaces/hari-invoice-app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],o=["/workspaces/hari-invoice-app/src/app/dashboard/invoices/page.tsx"],u="/dashboard/invoices/page",h={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/invoices/page",pathname:"/dashboard/invoices",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},56115:(e,s,t)=>{Promise.resolve().then(t.bind(t,69518))},12714:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},83855:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},88307:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},69518:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N});var r=t(10326),a=t(17577),i=t(90434),n=t(91664),l=t(41190),c=t(41156),d=t(29280),o=t(38443);function u({status:e}){return r.jsx(o.C,{variant:(e=>{switch(e.toLowerCase()){case"paid":return"paid";case"pending":return"pending";case"overdue":return"overdue";case"draft":return"draft";case"cancelled":return"cancelled";default:return"secondary"}})(e),children:e})}var h=t(39843),p=t(51223),x=t(83855),m=t(88307);let v=(0,t(76557).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var j=t(12714),f=t(69508),g=t(31540),y=t(98091),b=t(30831),_=t(60343),w=t(81588);function N(){let{invoices:e,isLoading:s}=(0,h.qx)(),t=(0,h.sJ)();(0,h.GE)();let{settings:o}=(0,_.r)(),{clients:N}=(0,w.av)(),[k,C]=(0,a.useState)(""),[q,P]=(0,a.useState)("all"),Z=e.filter(e=>{let s=e.client?.name||e.client_name||"",t=(e.invoice_number||e.id||"").toLowerCase().includes(k.toLowerCase())||s.toLowerCase().includes(k.toLowerCase()),r="all"===q||e.status.toLowerCase()===q;return t&&r}),S=async e=>{confirm("Are you sure you want to delete this invoice?")&&await t.mutateAsync(e)},L=e=>{let s=N.find(s=>s.id===e.client_id)||{id:e.client_id,name:e.clients?.name||e.client_name||"Unknown Client",email:e.clients?.email||"",phone:e.clients?.phone||"",address:e.clients?.address||""};o&&(0,b.D)(e,s,o)};return s?r.jsx("div",{className:"space-y-6",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),r.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Invoices"}),r.jsx("p",{className:"text-gray-600",children:"Manage your invoices and billing"})]}),r.jsx(i.default,{href:"/dashboard/invoices/create",children:(0,r.jsxs)(n.Button,{children:[r.jsx(x.Z,{className:"mr-2 h-4 w-4"}),"New Invoice"]})})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[r.jsx(m.Z,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),r.jsx(l.I,{placeholder:"Search invoices...",value:k,onChange:e=>C(e.target.value),className:"pl-8"})]}),(0,r.jsxs)(d.Ph,{value:q,onValueChange:P,children:[(0,r.jsxs)(d.i4,{className:"w-[180px]",children:[r.jsx(v,{className:"mr-2 h-4 w-4"}),r.jsx(d.ki,{placeholder:"Filter by status"})]}),(0,r.jsxs)(d.Bw,{children:[r.jsx(d.Ql,{value:"all",children:"All Status"}),r.jsx(d.Ql,{value:"draft",children:"Draft"}),r.jsx(d.Ql,{value:"pending",children:"Pending"}),r.jsx(d.Ql,{value:"paid",children:"Paid"}),r.jsx(d.Ql,{value:"overdue",children:"Overdue"})]})]})]}),r.jsx("div",{className:"border rounded-lg",children:(0,r.jsxs)(c.iA,{children:[r.jsx(c.xD,{children:(0,r.jsxs)(c.SC,{children:[r.jsx(c.ss,{children:"Invoice #"}),r.jsx(c.ss,{children:"Client"}),r.jsx(c.ss,{children:"Amount"}),r.jsx(c.ss,{children:"Status"}),r.jsx(c.ss,{children:"Issue Date"}),r.jsx(c.ss,{children:"Due Date"}),r.jsx(c.ss,{className:"text-right",children:"Actions"})]})}),r.jsx(c.RM,{children:0===Z.length?r.jsx(c.SC,{children:r.jsx(c.pj,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No invoices found"})}):Z.map(e=>{let s=e.client?.name||e.client_name||"Unknown Client",t=e.invoice_number||e.id;return(0,r.jsxs)(c.SC,{children:[r.jsx(c.pj,{className:"font-medium",children:r.jsx(i.default,{href:`/dashboard/invoices/${e.id}`,className:"text-blue-600 hover:underline",children:t})}),r.jsx(c.pj,{children:s}),r.jsx(c.pj,{children:(0,p.xG)(e.amount)}),r.jsx(c.pj,{children:r.jsx(u,{status:e.status})}),r.jsx(c.pj,{children:(0,p.p6)(e.issue_date)}),r.jsx(c.pj,{children:(0,p.p6)(e.due_date)}),r.jsx(c.pj,{children:(0,r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[r.jsx(i.default,{href:`/dashboard/invoices/${e.id}`,children:r.jsx(n.Button,{variant:"ghost",size:"icon",children:r.jsx(j.Z,{className:"h-4 w-4"})})}),r.jsx(i.default,{href:`/dashboard/invoices/${e.id}/edit`,children:r.jsx(n.Button,{variant:"ghost",size:"icon",children:r.jsx(f.Z,{className:"h-4 w-4"})})}),r.jsx(n.Button,{variant:"ghost",size:"icon",onClick:()=>L(e),children:r.jsx(g.Z,{className:"h-4 w-4"})}),r.jsx(n.Button,{variant:"ghost",size:"icon",onClick:()=>S(e.id),className:"text-red-600 hover:text-red-700",children:r.jsx(y.Z,{className:"h-4 w-4"})})]})})]},e.id)})})]})})]})}},41190:(e,s,t)=>{"use strict";t.d(s,{I:()=>n});var r=t(10326),a=t(17577),i=t(51223);let n=a.forwardRef(({className:e,type:s,...t},a)=>r.jsx("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));n.displayName="Input"},81588:(e,s,t)=>{"use strict";t.d(s,{Ln:()=>o,av:()=>d});var r=t(44976),a=t(48083),i=t(28468),n=t(76253),l=t(84097),c=t(38880);function d(){let{toast:e}=(0,l.pm)();(0,r.NL)();let s=(0,c.o)(e=>e.setClients),t=(0,a.a)({queryKey:["clients"],queryFn:async()=>{let e=(await (0,n.ZL)()).map(e=>({id:e.id,name:e.name||"",email:e.email||"",phone:e.phone||"",address:e.address||"",company:e.company||"",contact_name:e.contact_name||"",payment_terms:e.payment_terms||"",status:e.status||"active",created_at:e.created_at||"",updated_at:e.updated_at||"",total_invoices:e.total_invoices??0,total_revenue:e.total_revenue??0,total_amount:e.total_amount??0}));return s(e),e}});return{clients:t.data??[],isLoading:t.isLoading,error:t.error,refetch:t.refetch}}function o(){let{toast:e}=(0,l.pm)(),s=(0,r.NL)(),t=(0,c.o)(e=>e.removeClient);return(0,i.D)({mutationFn:n.Nu,onSuccess:(r,a)=>{t(a),s.invalidateQueries({queryKey:["clients"]}),e({title:"Success",description:"Client deleted successfully"})},onError:s=>{e({title:"Error",description:s.message||"Failed to delete client",variant:"destructive"})}})}},16116:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`/workspaces/hari-invoice-app/src/app/dashboard/invoices/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[276,347,362,795,642,596,759,563,968,203],()=>t(21642));module.exports=r})();