(()=>{var e={};e.id=455,e.ids=[455],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},50199:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(58621),s(22834),s(32029),s(35866);var a=s(23191),n=s(88716),r=s(37922),i=s.n(r),l=s(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["dashboard",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,58621)),"/workspaces/hari-invoice-app/src/app/dashboard/settings/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,22834)),"/workspaces/hari-invoice-app/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,32029)),"/workspaces/hari-invoice-app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/workspaces/hari-invoice-app/src/app/dashboard/settings/page.tsx"],u="/dashboard/settings/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/dashboard/settings/page",pathname:"/dashboard/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},76095:(e,t,s)=>{Promise.resolve().then(s.bind(s,7235))},79635:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},65442:(e,t,s)=>{"use strict";var a=s(17577),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=a.useState,i=a.useEffect,l=a.useLayoutEffect,o=a.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!n(e,s)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var s=t(),a=r({inst:{value:s,getSnapshot:t}}),n=a[0].inst,d=a[1];return l(function(){n.value=s,n.getSnapshot=t,c(n)&&d({inst:n})},[e,s,t]),i(function(){return c(n)&&d({inst:n}),e(function(){c(n)&&d({inst:n})})},[e]),o(s),s};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:d},79251:(e,t,s)=>{"use strict";var a=s(17577),n=s(94095),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=n.useSyncExternalStore,l=a.useRef,o=a.useEffect,c=a.useMemo,d=a.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,s,a,n){var u=l(null);if(null===u.current){var p={hasValue:!1,value:null};u.current=p}else p=u.current;var m=i(e,(u=c(function(){function e(e){if(!o){if(o=!0,i=e,e=a(e),void 0!==n&&p.hasValue){var t=p.value;if(n(t,e))return l=t}return l=e}if(t=l,r(i,e))return t;var s=a(e);return void 0!==n&&n(t,s)?(i=e,t):(i=e,l=s)}var i,l,o=!1,c=void 0===s?null:s;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,s,a,n]))[0],u[1]);return o(function(){p.hasValue=!0,p.value=m},[m]),d(m),m}},94095:(e,t,s)=>{"use strict";e.exports=s(65442)},21508:(e,t,s)=>{"use strict";e.exports=s(79251)},7235:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var a=s(10326),n=s(17577),r=s(29752),i=s(91664),l=s(41190),o=s(59008),c=s(50384),d=s(84097),u=s(60343),p=s(88378),m=s(79635);let h=(0,s(76557).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);function x(){let{toast:e}=(0,d.pm)(),{settings:t,isLoading:s}=(0,u.r)(),x=(0,u.Q)(),[f,g]=(0,n.useState)({company_name:"",company_email:"",company_phone:"",company_address:"",default_currency:"USD",tax_rate:0,invoice_terms:"",profile_name:"",profile_email:"",profile_phone:"",profile_address:"",profile_gstin:"",bank_account_name:"",bank_name:"",bank_account:"",bank_branch:"",bank_ifsc:"",bank_swift:"",account_type:"Current Account"}),[v,y]=(0,n.useState)({}),b=e=>t=>{let s="tax_rate"===e?parseFloat(t.target.value)||0:t.target.value;g(t=>({...t,[e]:s})),v[e]&&y(t=>{let s={...t};return delete s[e],s})},j=()=>{let e={};return f.company_name.trim()||(e.company_name="Company name is required"),f.company_email.trim()?/\S+@\S+\.\S+/.test(f.company_email)||(e.company_email="Invalid email address"):e.company_email="Company email is required",(f.tax_rate<0||f.tax_rate>100)&&(e.tax_rate="Tax rate must be between 0 and 100"),y(e),0===Object.keys(e).length},_=async e=>{if(e.preventDefault(),j())try{await x.mutateAsync(f)}catch(e){console.error("Error updating settings:",e)}};return s?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx("div",{className:"text-muted-foreground",children:"Loading settings..."})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your account and application preferences"})]}),(0,a.jsxs)(c.mQ,{defaultValue:"company",className:"space-y-6",children:[(0,a.jsxs)(c.dr,{children:[(0,a.jsxs)(c.SP,{value:"company",children:[a.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"Company"]}),(0,a.jsxs)(c.SP,{value:"profile",children:[a.jsx(m.Z,{className:"mr-2 h-4 w-4"}),"Profile"]}),(0,a.jsxs)(c.SP,{value:"banking",children:[a.jsx(h,{className:"mr-2 h-4 w-4"}),"Banking"]})]}),(0,a.jsxs)("form",{onSubmit:_,children:[a.jsx(c.nU,{value:"company",className:"space-y-6",children:(0,a.jsxs)(r.Zb,{children:[a.jsx(r.Ol,{children:a.jsx(r.ll,{children:"Company Information"})}),(0,a.jsxs)(r.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)(o.xJ,{children:[a.jsx(o.lX,{children:"Company Name *"}),a.jsx(l.I,{value:f.company_name,onChange:b("company_name"),placeholder:"Your Company Name"}),a.jsx(o.zG,{children:v.company_name})]}),(0,a.jsxs)(o.xJ,{children:[a.jsx(o.lX,{children:"Company Email *"}),a.jsx(l.I,{type:"email",value:f.company_email,onChange:b("company_email"),placeholder:"company@example.com"}),a.jsx(o.zG,{children:v.company_email})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)(o.xJ,{children:[a.jsx(o.lX,{children:"Phone Number"}),a.jsx(l.I,{value:f.company_phone,onChange:b("company_phone"),placeholder:"+1 (555) 123-4567"})]}),(0,a.jsxs)(o.xJ,{children:[a.jsx(o.lX,{children:"Default Currency"}),(0,a.jsxs)("select",{value:f.default_currency,onChange:e=>g(t=>({...t,default_currency:e.target.value})),className:"w-full p-2 border rounded-md",children:[a.jsx("option",{value:"USD",children:"USD - US Dollar"}),a.jsx("option",{value:"EUR",children:"EUR - Euro"}),a.jsx("option",{value:"GBP",children:"GBP - British Pound"}),a.jsx("option",{value:"INR",children:"INR - Indian Rupee"})]})]})]}),(0,a.jsxs)(o.xJ,{children:[a.jsx(o.lX,{children:"Company Address"}),a.jsx("textarea",{value:f.company_address,onChange:b("company_address"),placeholder:"Full company address",className:"w-full p-2 border rounded-md min-h-[80px]"})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:(0,a.jsxs)(o.xJ,{children:[a.jsx(o.lX,{children:"Tax Rate (%)"}),a.jsx(l.I,{type:"number",step:"0.01",min:"0",max:"100",value:f.tax_rate,onChange:b("tax_rate"),placeholder:"0.00"}),a.jsx(o.zG,{children:v.tax_rate})]})}),(0,a.jsxs)(o.xJ,{children:[a.jsx(o.lX,{children:"Invoice Terms"}),a.jsx("textarea",{value:f.invoice_terms,onChange:b("invoice_terms"),placeholder:"Payment terms and conditions",className:"w-full p-2 border rounded-md min-h-[100px]"})]})]})]})}),a.jsx(c.nU,{value:"profile",className:"space-y-6",children:(0,a.jsxs)(r.Zb,{children:[a.jsx(r.Ol,{children:a.jsx(r.ll,{children:"Personal Profile"})}),(0,a.jsxs)(r.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)(o.xJ,{children:[a.jsx(o.lX,{children:"Full Name"}),a.jsx(l.I,{value:f.profile_name,onChange:b("profile_name"),placeholder:"Your full name"})]}),(0,a.jsxs)(o.xJ,{children:[a.jsx(o.lX,{children:"Email"}),a.jsx(l.I,{type:"email",value:f.profile_email,onChange:b("profile_email"),placeholder:"your@email.com"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)(o.xJ,{children:[a.jsx(o.lX,{children:"Phone"}),a.jsx(l.I,{value:f.profile_phone,onChange:b("profile_phone"),placeholder:"+1 (555) 123-4567"})]}),(0,a.jsxs)(o.xJ,{children:[a.jsx(o.lX,{children:"GSTIN"}),a.jsx(l.I,{value:f.profile_gstin,onChange:b("profile_gstin"),placeholder:"GST Identification Number"})]})]}),(0,a.jsxs)(o.xJ,{children:[a.jsx(o.lX,{children:"Address"}),a.jsx("textarea",{value:f.profile_address,onChange:b("profile_address"),placeholder:"Your full address",className:"w-full p-2 border rounded-md min-h-[80px]"})]})]})]})}),a.jsx(c.nU,{value:"banking",className:"space-y-6",children:(0,a.jsxs)(r.Zb,{children:[a.jsx(r.Ol,{children:a.jsx(r.ll,{children:"Banking Information"})}),(0,a.jsxs)(r.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)(o.xJ,{children:[a.jsx(o.lX,{children:"Account Name"}),a.jsx(l.I,{value:f.bank_account_name,onChange:b("bank_account_name"),placeholder:"Account holder name"})]}),(0,a.jsxs)(o.xJ,{children:[a.jsx(o.lX,{children:"Bank Name"}),a.jsx(l.I,{value:f.bank_name,onChange:b("bank_name"),placeholder:"Name of your bank"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)(o.xJ,{children:[a.jsx(o.lX,{children:"Account Number"}),a.jsx(l.I,{value:f.bank_account,onChange:b("bank_account"),placeholder:"Your account number"})]}),(0,a.jsxs)(o.xJ,{children:[a.jsx(o.lX,{children:"Account Type"}),(0,a.jsxs)("select",{value:f.account_type,onChange:e=>g(t=>({...t,account_type:e.target.value})),className:"w-full p-2 border rounded-md",children:[a.jsx("option",{value:"Current Account",children:"Current Account"}),a.jsx("option",{value:"Savings Account",children:"Savings Account"}),a.jsx("option",{value:"Business Account",children:"Business Account"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)(o.xJ,{children:[a.jsx(o.lX,{children:"Branch Name"}),a.jsx(l.I,{value:f.bank_branch,onChange:b("bank_branch"),placeholder:"Bank branch name"})]}),(0,a.jsxs)(o.xJ,{children:[a.jsx(o.lX,{children:"IFSC Code"}),a.jsx(l.I,{value:f.bank_ifsc,onChange:b("bank_ifsc"),placeholder:"IFSC code"})]})]}),(0,a.jsxs)(o.xJ,{children:[a.jsx(o.lX,{children:"SWIFT Code"}),a.jsx(l.I,{value:f.bank_swift,onChange:b("bank_swift"),placeholder:"SWIFT/BIC code (for international)"})]})]})]})}),a.jsx("div",{className:"flex justify-end",children:a.jsx(i.Button,{type:"submit",disabled:x.isPending,className:"min-w-[100px]",children:x.isPending?"Saving...":"Save Settings"})})]})]})]})}},29752:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>l,SZ:()=>c,Zb:()=>i,aY:()=>d,ll:()=>o});var a=s(10326),n=s(17577),r=s(51223);let i=n.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let l=n.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let o=n.forwardRef(({className:e,...t},s)=>a.jsx("h3",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle";let c=n.forwardRef(({className:e,...t},s)=>a.jsx("p",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",e),...t}));c.displayName="CardDescription";let d=n.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,r.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",n.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},59008:(e,t,s)=>{"use strict";s.d(t,{xJ:()=>c,lX:()=>d,zG:()=>u});var a=s(10326),n=s(17577),r=s(51223),i=s(34478);let l=(0,s(79360).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=n.forwardRef(({className:e,...t},s)=>a.jsx(i.f,{ref:s,className:(0,r.cn)(l(),e),...t}));o.displayName=i.f.displayName,n.forwardRef(({className:e,...t},s)=>a.jsx("form",{ref:s,className:(0,r.cn)("space-y-6",e),...t})).displayName="Form";let c=n.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,r.cn)("space-y-2",e),...t}));c.displayName="FormItem";let d=n.forwardRef(({className:e,...t},s)=>a.jsx(o,{ref:s,className:(0,r.cn)("",e),...t}));d.displayName="FormLabel",n.forwardRef(({...e},t)=>a.jsx("div",{ref:t,...e})).displayName="FormControl",n.forwardRef(({className:e,...t},s)=>a.jsx("p",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",e),...t})).displayName="FormDescription";let u=n.forwardRef(({className:e,children:t,...s},n)=>t?a.jsx("p",{ref:n,className:(0,r.cn)("text-sm font-medium text-destructive",e),...s,children:t}):null);u.displayName="FormMessage"},41190:(e,t,s)=>{"use strict";s.d(t,{I:()=>i});var a=s(10326),n=s(17577),r=s(51223);let i=n.forwardRef(({className:e,type:t,...s},n)=>a.jsx("input",{type:t,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...s}));i.displayName="Input"},50384:(e,t,s)=>{"use strict";s.d(t,{SP:()=>c,dr:()=>o,mQ:()=>l,nU:()=>d});var a=s(10326),n=s(17577),r=s(72495),i=s(51223);let l=r.fC,o=n.forwardRef(({className:e,...t},s)=>a.jsx(r.aV,{ref:s,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));o.displayName=r.aV.displayName;let c=n.forwardRef(({className:e,...t},s)=>a.jsx(r.xz,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));c.displayName=r.xz.displayName;let d=n.forwardRef(({className:e,...t},s)=>a.jsx(r.VY,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));d.displayName=r.VY.displayName},60343:(e,t,s)=>{"use strict";s.d(t,{Q:()=>d,r:()=>c});var a=s(48083),n=s(44976),r=s(28468),i=s(76253),l=s(84097),o=s(38880);function c(){let e=(0,o.o)(e=>e.setSettings),t=(0,a.a)({queryKey:["settings"],queryFn:async()=>{let t=await (0,i.Gw)();return t&&e(t),t}});return{settings:t.data,isLoading:t.isLoading,error:t.error,refetch:t.refetch}}function d(){let{toast:e}=(0,l.pm)(),t=(0,n.NL)(),s=(0,o.o)(e=>e.setSettings);return(0,r.D)({mutationFn:i.VP,onSuccess:a=>{a&&s(a),t.invalidateQueries({queryKey:["settings"]}),e({title:"Success",description:"Settings updated successfully"})},onError:t=>{e({title:"Error",description:t.message||"Failed to update settings",variant:"destructive"})}})}},84097:(e,t,s)=>{"use strict";s.d(t,{pm:()=>p});var a=s(17577);let n=0,r=new Map,i=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],c={toasts:[]};function d(e){c=l(c,e),o.forEach(e=>{e(c)})}function u({...e}){let t=(n=(n+1)%Number.MAX_VALUE).toString(),s=()=>d({type:"DISMISS_TOAST",toastId:t});return d({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function p(){let[e,t]=a.useState(c);return a.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},38880:(e,t,s)=>{"use strict";s.d(t,{o:()=>r});var a=s(60114),n=s(2777);let r=(0,a.Ue)((e,t)=>({user:null,clients:[],invoices:[],expenses:[],expenseCategories:[],settings:null,balanceSummary:null,isLoading:!1,isLoadingClients:!1,isLoadingInvoices:!1,isLoadingExpenses:!1,setUser:t=>e({user:t}),setLoading:t=>e({isLoading:t}),setClients:t=>e({clients:t}),setInvoices:t=>e({invoices:t}),setExpenses:t=>e({expenses:t}),setSettings:t=>e({settings:t}),setBalanceSummary:t=>e({balanceSummary:t}),loadInitialData:async()=>{e({isLoading:!0});try{let[s,a,r,i,l]=await Promise.all([n.TW.getClients(),n.TW.getInvoices(),n.TW.getExpenses(),n.TW.getExpenseCategories(),n.TW.getBalanceSummary()]);s.data&&e({clients:s.data}),a.data&&e({invoices:a.data}),r.data&&e({expenses:r.data}),i.data&&e({expenseCategories:i.data}),l.data&&e({balanceSummary:l.data});let{user:o}=t();if(o){let t=await n.TW.getSettings(o.id);t.data&&e({settings:t.data})}}catch(e){console.error("Error loading initial data:",e)}finally{e({isLoading:!1})}},addClient:t=>e(e=>({clients:[t,...e.clients]})),updateClient:(t,s)=>e(e=>({clients:e.clients.map(e=>e.id===t?{...e,...s}:e)})),removeClient:t=>e(e=>({clients:e.clients.filter(e=>e.id!==t)})),addInvoice:t=>e(e=>({invoices:[t,...e.invoices]})),updateInvoice:(t,s)=>e(e=>({invoices:e.invoices.map(e=>e.id===t?{...e,...s}:e)})),removeInvoice:t=>e(e=>({invoices:e.invoices.filter(e=>e.id!==t)})),addExpense:t=>e(e=>({expenses:[t,...e.expenses]})),updateExpense:(t,s)=>e(e=>({expenses:e.expenses.map(e=>e.id===t?{...e,...s}:e)})),removeExpense:t=>e(e=>({expenses:e.expenses.filter(e=>e.id!==t)})),updateSettings:t=>e(e=>({settings:e.settings?{...e.settings,...t}:null})),updateBalanceSummary:t=>e(e=>({balanceSummary:e.balanceSummary?{...e.balanceSummary,...t}:null})),getTotalEarnings:()=>{let{invoices:e}=t();return e.filter(e=>"Paid"===e.status).reduce((e,t)=>e+t.amount,0)},getTotalExpenses:()=>{let{expenses:e}=t();return e.reduce((e,t)=>e+t.amount,0)},getCurrentBalance:()=>{let{getTotalEarnings:e,getTotalExpenses:s}=t();return e()-s()},getRecentInvoices:(e=5)=>{let{invoices:s}=t();return s.slice().sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()).slice(0,e)},getRecentExpenses:(e=5)=>{let{expenses:s}=t();return s.slice().sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()).slice(0,e)},getOverdueInvoices:()=>{let{invoices:e}=t(),s=new Date;return e.filter(e=>"Pending"===e.status&&new Date(e.due_date)<s)},reset:()=>e({user:null,clients:[],invoices:[],expenses:[],expenseCategories:[],settings:null,balanceSummary:null,isLoading:!1,isLoadingClients:!1,isLoadingInvoices:!1,isLoadingExpenses:!1})}))},58621:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`/workspaces/hari-invoice-app/src/app/dashboard/settings/page.tsx#default`)},34478:(e,t,s)=>{"use strict";s.d(t,{f:()=>l});var a=s(17577),n=s(45226),r=s(10326),i=a.forwardRef((e,t)=>(0,r.jsx)(n.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=i},28468:(e,t,s)=>{"use strict";s.d(t,{D:()=>d});var a=s(17577),n=s(12113),r=s(65621);s(21638),r.F;var i=s(64351),l=s(3341),o=class extends i.l{#e;#t=void 0;#s;#a;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,l.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,l.Ym)(t.mutationKey)!==(0,l.Ym)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#n(),this.#r(e)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#n(),this.#r()}mutate(e,t){return this.#a=t,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(e)}#n(){let e=this.#s?.state??{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#r(e){n.Vr.batch(()=>{if(this.#a&&this.hasListeners()){let t=this.#t.variables,s=this.#t.context;e?.type==="success"?(this.#a.onSuccess?.(e.data,t,s),this.#a.onSettled?.(e.data,null,t,s)):e?.type==="error"&&(this.#a.onError?.(e.error,t,s),this.#a.onSettled?.(void 0,e.error,t,s))}this.listeners.forEach(e=>{e(this.#t)})})}},c=s(44976);function d(e,t){let s=(0,c.NL)(t),[r]=a.useState(()=>new o(s,e));a.useEffect(()=>{r.setOptions(e)},[r,e]);let i=a.useSyncExternalStore(a.useCallback(e=>r.subscribe(n.Vr.batchCalls(e)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),d=a.useCallback((e,t)=>{r.mutate(e,t).catch(l.ZT)},[r]);if(i.error&&(0,l.L3)(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:d,mutateAsync:i.mutate}}},60114:(e,t,s)=>{"use strict";s.d(t,{Ue:()=>p});let a=e=>{let t;let s=new Set,a=(e,a)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=a?a:"object"!=typeof n||null===n)?n:Object.assign({},t,n),s.forEach(s=>s(t,e))}},n=()=>t,r={setState:a,getState:n,getInitialState:()=>i,subscribe:e=>(s.add(e),()=>s.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},i=t=e(a,n,r);return r},n=e=>e?a(e):a;var r=s(17577),i=s(21508);let{useDebugValue:l}=r,{useSyncExternalStoreWithSelector:o}=i,c=!1,d=e=>e,u=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?n(e):e,s=(e,s)=>(function(e,t=d,s){s&&!c&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),c=!0);let a=o(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return l(a),a})(t,e,s);return Object.assign(s,t),s},p=e=>e?u(e):u}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[276,347,362,795,642,495,968],()=>s(50199));module.exports=a})();