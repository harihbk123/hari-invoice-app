exports.id=968,exports.ids=[968],exports.modules={83189:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=83189,e.exports=t},33109:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,12994,23)),Promise.resolve().then(n.t.bind(n,96114,23)),Promise.resolve().then(n.t.bind(n,9727,23)),Promise.resolve().then(n.t.bind(n,79671,23)),Promise.resolve().then(n.t.bind(n,41868,23)),Promise.resolve().then(n.t.bind(n,84759,23))},11763:()=>{},40880:(e,t,n)=>{Promise.resolve().then(n.bind(n,7022))},7022:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(10326),s=n(17577),a=n(90434),i=n(35047),o=n(2777),c=n(91664),l=n(51223),d=n(24319),u=n(36283),f=n(24061),m=n(95964),h=n(76464),g=n(88378),y=n(94019),p=n(71810),w=n(90748);let x=[{title:"Dashboard",href:"/dashboard",icon:d.Z},{title:"Invoices",href:"/dashboard/invoices",icon:u.Z},{title:"Clients",href:"/dashboard/clients",icon:f.Z},{title:"Expenses",href:"/dashboard/expenses",icon:m.Z},{title:"Analytics",href:"/dashboard/analytics",icon:h.Z},{title:"Settings",href:"/dashboard/settings",icon:g.Z}];function v({children:e}){let[t,n]=(0,s.useState)(!1),d=(0,i.usePathname)(),u=(0,i.useRouter)(),f=async()=>{try{await o.OQ.auth.signOut(),u.push("/auth/login")}catch(e){console.error("Error logging out:",e)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t&&r.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>n(!1)}),(0,r.jsxs)("div",{className:(0,l.cn)("fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0",t?"translate-x-0":"-translate-x-full"),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between h-16 px-6 border-b",children:[r.jsx("h1",{className:"text-xl font-semibold",children:"Invoice Manager"}),r.jsx(c.Button,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>n(!1),children:r.jsx(y.Z,{className:"h-5 w-5"})})]}),r.jsx("nav",{className:"mt-6 px-3",children:x.map(e=>{let t=e.icon,s=d===e.href||"/dashboard"!==e.href&&(d??"").startsWith(e.href);return(0,r.jsxs)(a.default,{href:e.href,className:(0,l.cn)("flex items-center px-3 py-2 mb-1 text-sm font-medium rounded-md transition-colors",s?"bg-primary text-primary-foreground":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),onClick:()=>n(!1),children:[r.jsx(t,{className:"mr-3 h-5 w-5"}),e.title]},e.href)})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-3 border-t",children:(0,r.jsxs)(c.Button,{variant:"ghost",className:"w-full justify-start text-gray-600 hover:text-gray-900",onClick:f,children:[r.jsx(p.Z,{className:"mr-3 h-5 w-5"}),"Sign Out"]})})]}),(0,r.jsxs)("div",{className:"lg:pl-64",children:[(0,r.jsxs)("div",{className:"sticky top-0 z-30 flex h-16 items-center gap-x-4 border-b bg-white px-4 sm:gap-x-6 sm:px-6 lg:hidden",children:[r.jsx(c.Button,{variant:"ghost",size:"icon",onClick:()=>n(!0),children:r.jsx(w.Z,{className:"h-5 w-5"})}),r.jsx("div",{className:"text-sm font-medium",children:"Invoice Manager"})]}),r.jsx("main",{className:"p-6",children:e})]})]})}},91664:(e,t,n)=>{"use strict";n.d(t,{Button:()=>l});var r=n(10326),s=n(17577),a=n(34214),i=n(79360),o=n(51223);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...i},l)=>{let d=s?a.g7:"button";return r.jsx(d,{className:(0,o.cn)(c({variant:t,size:n,className:e})),ref:l,...i})});l.displayName="Button"},2777:(e,t,n)=>{"use strict";n.d(t,{OQ:()=>r,TW:()=>a,zB:()=>s});let r=(0,n(70474).createBrowserClient)(process.env.NEXT_PUBLIC_SUPABASE_URL,process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY),s=async(e,t)=>{let{data:n,error:s}=await r.auth.signInWithPassword({email:e,password:t});return{data:n,error:s}},a={async getClients(){let{data:e,error:t}=await r.from("clients").select("*").order("created_at",{ascending:!1});return{data:e,error:t}},async createClient(e){let{data:t,error:n}=await r.from("clients").insert([e]).select().single();return{data:t,error:n}},async updateClient(e,t){let{data:n,error:s}=await r.from("clients").update(t).eq("id",e).select().single();return{data:n,error:s}},async deleteClient(e){let{error:t}=await r.from("clients").delete().eq("id",e);return{error:t}},async getInvoices(){let{data:e,error:t}=await r.from("invoices").select("*, clients(*)").order("created_at",{ascending:!1});return{data:e,error:t}},async createInvoice(e){let{data:t,error:n}=await r.from("invoices").insert([e]).select().single();return{data:t,error:n}},async updateInvoice(e,t){let{data:n,error:s}=await r.from("invoices").update(t).eq("id",e).select().single();return{data:n,error:s}},async deleteInvoice(e){let{error:t}=await r.from("invoices").delete().eq("id",e);return{error:t}},async getExpenses(){let{data:e,error:t}=await r.from("expenses").select("*").order("date",{ascending:!1});return{data:e,error:t}},async createExpense(e){let{data:t,error:n}=await r.from("expenses").insert([e]).select().single();return{data:t,error:n}},async updateExpense(e,t){let{data:n,error:s}=await r.from("expenses").update(t).eq("id",e).select().single();return{data:n,error:s}},async deleteExpense(e){let{error:t}=await r.from("expenses").delete().eq("id",e);return{error:t}},async getExpenseCategories(){let{data:e,error:t}=await r.from("expense_categories").select("*").order("name");return{data:e,error:t}},async getSettings(e){let{data:t,error:n}=await r.from("settings").select("*").eq("user_id",e).single();return{data:t,error:n}},async updateSettings(e){let{data:t,error:n}=await r.from("settings").upsert(e).select().single();return{data:t,error:n}},async getBalanceSummary(){let{data:e,error:t}=await r.from("balance_summary").select("*").single();return{data:e,error:t}}}},76253:(e,t,n)=>{"use strict";n.d(t,{E:()=>p,Eb:()=>b,Fl:()=>y,Gw:()=>x,Nu:()=>c,Qu:()=>o,T4:()=>h,VP:()=>v,Wu:()=>f,YD:()=>g,ZL:()=>s,d5:()=>d,eI:()=>i,rk:()=>m,s3:()=>a,sA:()=>l,vu:()=>w});var r=n(2777);async function s(){let{data:e,error:t}=await r.OQ.from("clients").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]}async function a(e){let{data:t,error:n}=await r.OQ.from("clients").select("*").eq("id",e).single();if(n)throw n;return t}async function i(e){let{data:t,error:n}=await r.OQ.from("clients").insert([e]).select().single();if(n)throw n;return t}async function o(e,t){let{data:n,error:s}=await r.OQ.from("clients").update(t).eq("id",e).select().single();if(s)throw s;return n}async function c(e){let{error:t}=await r.OQ.from("clients").delete().eq("id",e);if(t)throw t}async function l(){let{data:e,error:t}=await r.OQ.from("invoices").select(`
      *,
      clients (
        id,
        name,
        email,
        company
      )
    `).order("created_at",{ascending:!1});if(t)throw t;return e||[]}async function d(e){let{data:t,error:n}=await r.OQ.from("invoices").select(`
      *,
      clients (
        id,
        name,
        email,
        company
      )
    `).eq("id",e).single();if(n)throw n;return t}async function u(e,t){let{data:n,error:s}=await r.OQ.from("invoices").update(t).eq("id",e).select().single();if(s)throw s;return n}async function f(e){let{error:t}=await r.OQ.from("invoices").delete().eq("id",e);if(t)throw t}async function m(e,t){return u(e,{status:t})}async function h(){let{data:e,error:t}=await r.OQ.from("expenses").select("*").order("date",{ascending:!1});if(t)throw t;return e||[]}async function g(e){let{data:t,error:n}=await r.OQ.from("expenses").select("*").eq("id",e).single();if(n)throw n;return t}async function y(e){let{data:t,error:n}=await r.OQ.from("expenses").insert([e]).select().single();if(n)throw n;return t}async function p(e,t){let{data:n,error:s}=await r.OQ.from("expenses").update(t).eq("id",e).select().single();if(s)throw s;return n}async function w(e){let{error:t}=await r.OQ.from("expenses").delete().eq("id",e);if(t)throw t}async function x(){let{data:{user:e}}=await r.OQ.auth.getUser();if(!e)return null;let{data:t,error:n}=await r.OQ.from("settings").select("*").eq("user_id",e.id).single();if(n&&"PGRST116"!==n.code)throw n;return t||null}async function v(e){let{data:{user:t}}=await r.OQ.auth.getUser();if(!t)throw Error("User not authenticated");let{data:n,error:s}=await r.OQ.from("settings").upsert({...e,user_id:t.id}).select().single();if(s)throw s;return n}async function b(){try{let[e,t,n]=await Promise.all([r.OQ.from("invoices").select(`
        *,
        clients (
          id,
          name,
          email,
          company
        )
      `),r.OQ.from("clients").select("*"),r.OQ.from("expenses").select("*")]),s=e.data||[],a=t.data||[],i=n.data||[],o=s.filter(e=>"Paid"===e.status).reduce((e,t)=>e+t.amount,0),c=i.reduce((e,t)=>e+t.amount,0),l=function(e){let t=new Map;return e.filter(e=>"Paid"===e.status).forEach(e=>{let n=new Date(e.created_at);n.getFullYear(),(n.getMonth()+1).toString().padStart(2,"0");let r=n.toLocaleDateString("en-US",{year:"numeric",month:"short"});t.set(r,(t.get(r)||0)+e.amount)}),Array.from(t.entries()).map(([e,t])=>({month:e,revenue:t}))}(s),d=function(e){let t=new Map;return e.forEach(e=>{let n=e.category||"Uncategorized";t.set(n,(t.get(n)||0)+e.amount)}),Array.from(t.entries()).map(([e,t])=>({category:e,amount:t}))}(i),u=function(e){let t=new Map;return e.filter(e=>"Paid"===e.status).forEach(e=>{let n=e.clients?.name||"Unknown Client";t.set(n,(t.get(n)||0)+e.amount)}),Array.from(t.entries()).map(([e,t])=>({client:e,revenue:t})).sort((e,t)=>t.revenue-e.revenue).slice(0,10)}(s),f=function(e){let t=new Map;return e.forEach(e=>{let n=e.status||"Unknown";t.set(n,(t.get(n)||0)+1)}),Array.from(t.entries()).map(([e,t])=>({status:e,count:t}))}(s);return{totalRevenue:o,totalExpenses:c,totalClients:a.length,totalInvoices:s.length,monthlyRevenue:l,expensesByCategory:d,clientRevenue:u,invoiceStatusDistribution:f}}catch(e){throw console.error("Error fetching analytics data:",e),e}}},51223:(e,t,n)=>{"use strict";n.d(t,{cn:()=>a,p6:()=>o,xG:()=>i});var r=n(41135),s=n(31009);function a(...e){return(0,s.m6)((0,r.W)(e))}function i(e,t="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)}function o(e,t="medium"){if(!e)return"-";try{let n;let r="string"==typeof e?new Date(e):e;if(isNaN(r.getTime()))return"-";switch(t){case"short":n={year:"numeric",month:"short",day:"numeric"};break;case"long":n={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;default:n={year:"numeric",month:"long",day:"numeric"}}return new Intl.DateTimeFormat("en-US",n).format(r)}catch(e){return console.error("Error formatting date:",e),"-"}}},22834:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});let r=(0,n(68570).createProxy)(String.raw`/workspaces/hari-invoice-app/src/app/dashboard/layout.tsx#default`)},32029:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o,metadata:()=>i});var r=n(19510),s=n(45317),a=n.n(s);n(5023);let i={title:"Invoice Manager",description:"Manage your invoices, clients, and expenses"};function o({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:a().className,children:e})})}},5023:()=>{}};